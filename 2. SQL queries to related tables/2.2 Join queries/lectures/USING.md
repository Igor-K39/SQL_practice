## Операция соединение, использование USING()

При описании соединения таблиц с помощью JOIN в некоторых случаях вместо ON и следующего за ним условия можно использовать оператор USING().

**USING** позволяет указать набор столбцов, которые есть в обеих объединяемых таблицах. Если база данных хорошо спроектирована, а каждый внешний ключ имеет такое же имя, как и соответствующий первичный ключ (например, genre.genre_id = book.genre_id), тогда можно использовать предложение **USING** для реализации операции **JOIN**. 

При этом после **SELECT**, при использовании столбцов из **USING()**, необязательно указывать, из какой именно таблицы берется столбец.

```sql
SELECT
 ...
  FROM
       таблица_1 CROSS JOIN  таблица_2
...
```

**Пример 1:** Вывести название книг, фамилии и id их авторов  

Вариант с ON 
```sql
/* явно указать таблицу - обязательно */
SELECT title, name_author, author.author_id 
FROM 
    author INNER JOIN book
    ON author.author_id = book.author_id;
```

Вариант с USING
```sql
/* имя таблицы, из которой берется author_id, указывать не обязательно*/
SELECT title, name_author, author_id 
FROM 
    author INNER JOIN book
    USING(author_id);
```

Результат (одинаковый для обоих запросов):
```
+-----------------------+------------------+-----------+
| title                 | name_author      | author_id |
+-----------------------+------------------+-----------+
| Мастер и Маргарита    | Булгаков М.А.    | 1         |
| Белая гвардия         | Булгаков М.А.    | 1         |
| Идиот                 | Достоевский Ф.М. | 2         |
| Братья Карамазовы     | Достоевский Ф.М. | 2         |
| Игрок                 | Достоевский Ф.М. | 2         |
| Стихотворения и поэмы | Есенин С.А.      | 3         |
| Черный человек        | Есенин С.А.      | 3         |
| Лирика                | Пастернак Б.Л.   | 4         |
+-----------------------+------------------+-----------+
```
Запись условия соединения с ON является более общим случаем, так как

- позволяет задавать соединение не только по одноименным полям;
- позволяет использовать произвольное условие на соединение таблиц, при этом в условие может включаться произвольное выражение, например, можно указать связь двух таблиц по двум и более столбцам.